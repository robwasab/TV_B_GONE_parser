#include <avr/io.h>             // this contains all the IO port definitions
#include <avr/pgmspace.h>       // definitions or keeping constants in program memory
#include "main.h"

// table of POWER codes

#define freq_to_timerval(x) ((F_CPU / x - 1 )/ 2)

const struct powercode sony PROGMEM = {
 freq_to_timerval(37520.0),   // Code 000 -- Sony, Baur and a few others
 {{ 245,    60 },
  { 123,    60 },
  {  61,    60 },
  { 123,    60 },
  {  61,    60 },
  { 123,    60 },
  {  61,    60 },
  {  61,    60 },
  { 123,    60 },
  {  61,    60 },
  {  61,    60 },
  {  61,    60 },
  {  61,  2758 },
  { 246,    60 },
  { 123,    60 },
  {  61,    60 },
  { 123,    60 },
  {  61,    60 },
  { 123,    60 },
  {  61,    60 },
  {  61,    60 },
  { 123,    60 },
  {  61,    60 },
  {  61,    60 },
  {  61,    60 },
  {  61,     0 }
  }
};
const struct powercode proscan PROGMEM = {
 freq_to_timerval(55600.0),   // Code 001 -- Proscan, RCA and a few others
 {{ 411,   410 },
  {  52,   205 },
  {  52,   205 },
  {  52,   205 },
  {  52,   205 },
  {  52,   102 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   102 },
  {  52,   102 },
  {  52,   102 },
  {  52,   102 },
  {  52,   205 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,   821 },
  { 411,   410 },
  {  52,   205 },
  {  52,   205 },
  {  52,   205 },
  {  52,   205 },
  {  52,   102 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   102 },
  {  52,   102 },
  {  52,   102 },
  {  52,   102 },
  {  52,   205 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,   102 },
  {  52,   205 },
  {  52,     0 }
  }
};
const struct powercode panasonic PROGMEM = {
 freq_to_timerval(36130.0),     // Code 002 -- Panasonic
 {{ 358,   179 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,   135 },
  {  44,   135 },
  {  44,   135 },
  {  44,   135 },
  {  44,    45 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,   135 },
  {  44,   135 },
  {  44,   135 },
  {  44,   135 },
  {  44,    45 },
  {  44,   135 },
  {  44,  7720 },
  { 358,   180 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,   135 },
  {  44,   135 },
  {  44,   135 },
  {  44,   135 },
  {  44,    45 },
  {  44,    45 },
  {  44,   135 },
  {  44,    45 },
  {  44,   135 },
  {  44,   135 },
  {  44,   135 },
  {  44,   135 },
  {  44,    45 },
  {  44,   135 },
  {  44,     0 }
  }
};
const struct powercode sharp PROGMEM = {
 freq_to_timerval(37470.0),    // Code 003 -- Sharp
 {{  28,   189 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,   189 },
  {  29,   189 },
  {  29,    81 },
  {  29,   189 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,   189 },
  {  29,    81 },
  {  29,  4670 },
  {  29,   189 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,   189 },
  {  29,    81 },
  {  29,    81 },
  {  29,   189 },
  {  29,    81 },
  {  29,   189 },
  {  29,   189 },
  {  29,   189 },
  {  29,    81 },
  {  29,   189 },
  {  29,  4670 },
  {  29,   189 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,   189 },
  {  29,   189 },
  {  29,    81 },
  {  29,   189 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,   189 },
  {  29,    81 },
  {  29,  4670 },
  {  29,   189 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,    81 },
  {  29,   189 },
  {  29,    81 },
  {  29,    81 },
  {  29,   189 },
  {  29,    81 },
  {  29,   189 },
  {  29,   189 },
  {  29,   189 },
  {  29,    81 },
  {  29,   189 },
  {  29,     0 }
  }
};
const struct powercode toshiba PROGMEM = {
 freq_to_timerval(37470.0),     // Code 004 -- Toshiba, Apex
 {{ 924,   464 },
  {  58,    57 },
  {  58,    57 },
  {  58,    57 },
  {  58,    57 },
  {  58,    57 },
  {  58,    57 },
  {  58,   173 },
  {  58,    57 },
  {  58,   173 },
  {  58,   173 },
  {  58,   173 },
  {  58,   173 },
  {  58,   173 },
  {  58,   173 },
  {  58,    57 },
  {  58,   173 },
  {  58,    57 },
  {  58,   173 },
  {  58,    57 },
  {  58,    57 },
  {  58,   173 },
  {  58,    57 },
  {  58,    57 },
  {  58,    57 },
  {  58,   173 },
  {  58,    57 },
  {  58,   173 },
  {  58,   173 },
  {  58,    57 },
  {  58,   173 },
  {  58,   173 },
  {  58,   173 },
  {  58,  4054 },
  { 926,   230 },
  {  58,  9880 },
  { 926,   230 },
  {  58,     0 }
  }
};
const struct powercode philips PROGMEM = {
 freq_to_timerval(34800.0),     // Code 005 -- Philips, Grundig, Pye
 {{  92,    92 },
  { 184,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,   184 },
  {  92,    92 },
  { 184,    92 },
  {  92,  9216 },
  {  92,    92 },
  { 184,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,    92 },
  {  92,   184 },
  {  92,    92 },
  { 184,    92 },
  {  92,     0 }
  }
};
const struct powercode samsung PROGMEM = {
 freq_to_timerval(37470.0),    // Code 006 -- Samsung
 {{ 462,   476 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,   175 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,   175 },
  {  53,    62 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,  4661 },
  { 464,   476 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,   175 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,    62 },
  {  53,   175 },
  {  53,    62 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,   175 },
  {  53,     0 }
  }
};  


const PGM_P *powerCodes[] PROGMEM  = {
&sony, &proscan, &panasonic, &sharp, &toshiba, &philips, &samsung
};

uint8_t num_codes = (sizeof(powerCodes)/sizeof(*powerCodes));
